name: Deploy Jekyll with GitHub Pages dependencies preinstalled

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]
    paths-ignore: # Ignore those triggering other workflows
      - '**/ro-crate-metadata.json'
      - '**/example*/**'

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  - name: Deploy using Jekyll
    uses: ./.github/workflows/jekyll-gh-pages-workflow-call.yml